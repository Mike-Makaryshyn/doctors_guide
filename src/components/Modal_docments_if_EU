import React, { useState } from 'react';

const Modal = ({ url, onClose, onEUFinish, onThirdCountryFinish }) => {
   return (
      <div className="modal">
         <div className="modal-content">
            <span className="close" onClick={onClose}>&times;</span>
            <h2>Оберіть країну для закінчення:</h2>
            {(sectionIndex === 0 && optionIdex === 2) && (
               <>
                  <button onClick={onEUFinish}>Закінчення в Євросоюзі</button>
                  <button onClick={onThirdCountryFinish}>Закінчення в 3 країні</button>
               </>
            )}
            <iframe src={url} title="Doctor Palat" width="100%" height="100%" />
         </div>
      </div>
   );
};

const YourComponent = () => {
   const [isModalOpen, setModalOpen] = useState(false);

   const handleModalOpen = () => {
      setModalOpen(true);
   };

   const handleModalClose = () => {
      setModalOpen(false);
   };

   const handleEUFinish = () => {
      // Логіка для закінчення в Євросоюзі
   };

   const handleThirdCountryFinish = () => {
      // Логіка для закінчення в 3 країні
   };

   if (
      sectionIndex === 0 &&
      optionIdex === 2 &&
      selectedRegion
   ) {
      return (
         <div className={"wrapper_with_choose"}>
            <a
               className={"main_menu_section_link"}
               onClick={handleModalOpen}
               key={`${optionIdex}dlas`}
            >
               <div>{item[language]}</div>
            </a>
            {isModalOpen && (
               <Modal
                  url={LANDS_INFO?.find(
                     (land) => land?.name === selectedRegion
                  )?.doctor_palat}
                  onClose={handleModalClose}
                  onEUFinish={handleEUFinish}
                  onThirdCountryFinish={handleThirdCountryFinish}
               />
            )}
         </div>
      );
   } else {
      return null;
   }
};
